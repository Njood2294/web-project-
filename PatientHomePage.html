<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hope clinic</title>
<link rel="stylesheet" href="Css-PatientHomePage.css" id="main-theme-stylesheet"> 
</head>
<body>
    <a href="Homepage/HomePage.html" id="log">Log out</a> 
 <main id="PatientHomePage">
       
  <h2>Welcom<span id="Fname"></span></h2>
  <div id ="info">
    <div>
    <p>Name: <span id="Fname"></span> <span id="lname"></span></p>
    <p>Id:<span id="Id"></span></p>
    </div>
    <div>
    <p>DoB:<span id="DoB"></span></p>
    <p>Email:<span id="Email"></span></p>
</div>
</div>        
<a href="Appointment.html" id="Book">Book an appointment</a>  

<table>
    <thead>
        <tr>
            <th>Time</th>
            <th>Date</th>
            <th>Doctor's Name</th>
            <th>Doctor's Photo</th>
            <th>Status</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>3 PM</td>
            <td>20/5/2025</td>
            <td>Dr. Sara Ahmad</td>
            <td><img src="https://via.placeholder.com/100" alt="Dr. Sara Ahmad"></td>
            <td>Pending</td>
            <td><a href="#">Cancel</a></td>
        </tr>
        <tr>
            <td>10 AM</td>
            <td>14/2/2025</td>
            <td>Dr. Saleh Abdullah</td>
            <td><img src="https://via.placeholder.com/100" alt="Dr. Saleh Abdullah"></td>
            <td>Confirmed</td>
            <td><a href="#">Cancel</a></td>
        </tr>
    </tbody>
</table>
   </main>
<script>
    document.addEventListener("DOMContentLoaded", function() {
    const table = document.querySelector("table tbody");
    const rows = Array.from(table.rows);

    rows.sort((a, b) => {
        
        const dateA = parseDateTime(a.cells[1].innerText, a.cells[0].innerText);
        const dateB = parseDateTime(b.cells[1].innerText, b.cells[0].innerText);

        return dateA - dateB; 
    });

    rows.forEach(row => table.appendChild(row)); 

    function parseDateTime(dateStr, timeStr) {
        
        const dateParts = dateStr.split('/');
        const day = parseInt(dateParts[0], 10);
        const month = parseInt(dateParts[1], 10);
        const year = parseInt(dateParts[2], 10);

      //timeParts
        const tP = timeStr.split(' ');
        //hourParts
        const hourMin = tP[0].split(':');
        
        let hours = parseInt(hourMin[0], 10);
        let minutes = hourMin.length > 1 ? parseInt(hourMin[1], 10) : 0;
        const modifier = tP[1];

        if (modifier === "PM" && hours < 12) hours += 12;
        if (modifier === "AM" && hours === 12) hours = 0;

        return new Date(year, month - 1, day, hours, minutes);
    }
});

</script>
</body>
</html>
